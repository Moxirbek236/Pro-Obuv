modules = ["python-3.12"]

[nix]
channel = "stable-25_05"
packages = ["cargo", "libiconv", "rustc"]

[[ports]]
localPort = 5000
externalPort = 80

[[ports]]
localPort = 8080
externalPort = 8080

[workflows]
runButton = "Fixed Restaurant Server"

[[workflows.workflow]]
name = "Run Flask App"
author = 45556560
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"python.*app.py\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python app.py"

[[workflows.workflow]]
name = "Professional Flask Server"
author = 45556560
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_ENV=production"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_APP=app.py"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "upm add -q flask werkzeug python-dotenv flask-sqlalchemy bcrypt pytz qrcode requests celery flask-compress flask-cors flask-limiter redis gunicorn psutil apscheduler"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python app.py"

[[workflows.workflow]]
name = "Universal Restaurant Server"
author = 45556560
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_ENV=production"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_APP=app.py"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export PYTHONPATH=$PYTHONPATH:$(pwd)"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "upm add -q flask werkzeug python-dotenv flask-sqlalchemy bcrypt pytz qrcode requests celery flask-compress flask-cors flask-limiter redis gunicorn psutil apscheduler"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python app.py"

[[workflows.workflow]]
name = "Simple Restaurant Server"
author = 45556560
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_ENV=production"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_APP=app.py"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export PYTHONPATH=$PYTHONPATH:$(pwd)"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python app.py"

[[workflows.workflow]]
name = "Production Restaurant Server"
author = 45556560
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_ENV=production"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_APP=app.py"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export PYTHONPATH=$PYTHONPATH:$(pwd)"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸš€ Dependencies o'rnatilmoqda...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pip install -q flask werkzeug python-dotenv flask-sqlalchemy bcrypt pytz qrcode pillow requests flask-compress flask-cors flask-limiter redis gunicorn psutil apscheduler"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸ“Š Database setup...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python -c \"from app import safe_init_database; safe_init_database()\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸŽ¯ Starting server...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python app.py"

[[workflows.workflow]]
name = "Fixed Restaurant Server"
author = 45556560
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_ENV=production"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export FLASK_APP=app.py"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export PYTHONPATH=$PYTHONPATH:$(pwd)"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸš€ Starting Fixed Restaurant Server...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python app.py"

[agent]
expertMode = true
